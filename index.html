<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Выбор дат смен</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
</head>
<body>
  <h2>Выберите даты смен</h2>
  <input id="datepicker" type="text" placeholder="Нажмите, чтобы выбрать даты" style="width: 100%; padding: 0.5em; font-size: 1em;">
  <button id="submit" style="margin-top: 1em; padding: 0.5em 1em; font-size: 1em;">Отправить</button>

  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script async src="https://telegram.org/js/telegram-web-app.js"></script>
  <script>
    // Инициализация Telegram Web App
    const tg = window.Telegram.WebApp;
    tg.expand();

    // Настройка flatpickr для множественного выбора дат
    flatpickr("#datepicker", {
      mode: "multiple",
      dateFormat: "Y-m-d",
      inline: true
    });

    document.getElementById("submit").addEventListener("click", () => {
      // Получаем выбранные даты и отправляем боту
      const raw = document.getElementById("datepicker").value;
      const dates = raw.split(", ").filter(d => d);
      tg.sendData(JSON.stringify(dates));
    });
  </script>
</body>
</html> 